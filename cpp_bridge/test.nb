(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      9582,        231]
NotebookOptionsPosition[      8327,        202]
NotebookOutlinePosition[      8687,        218]
CellTagsIndexPosition[      8644,        215]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"Needs", "[", "\"\<CCompilerDriver`\>\"", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.737121719172532*^9, 
  3.737121719183576*^9}},ExpressionUUID->"a6645103-50d4-4adb-a66a-\
8a4350abb6eb"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "libhello", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"LibraryFunctionUnload", "[", "hello", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"LibraryFunctionUnload", "[", "reset", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.737122946668947*^9, 3.737122951177116*^9}, {
   3.737123825689713*^9, 3.73712383864625*^9}, {3.737123936440346*^9, 
   3.737123937308481*^9}, {3.737124146049309*^9, 3.737124147302349*^9}, {
   3.737124278932446*^9, 3.737124285703484*^9}, 3.737124749227565*^9, {
   3.737131090045287*^9, 3.737131090249062*^9}, {3.7371393150753403`*^9, 
   3.7371393186740437`*^9}, {3.737139537530179*^9, 
   3.737139538930401*^9}},ExpressionUUID->"a90a1e7d-676f-4844-979b-\
55cc70034026"],

Cell[BoxData[
 TemplateBox[{
  "LibraryFunction","nofun",
   "\"The function \\!\\(\\*RowBox[{\\\"LibraryFunction\\\", \\\"[\\\", \
RowBox[{\\\"\\\\\\\"/Users/ckorikov/Library/Mathematica/SystemFiles/\
LibraryResources/MacOSX-x86-64/hello.dylib\\\\\\\"\\\", \\\",\\\", \\\"\\\\\\\
\"hello\\\\\\\"\\\", \\\",\\\", RowBox[{\\\"{\\\", RowBox[{\\\"Integer\\\", \
\\\",\\\", \\\"Integer\\\"}], \\\"}\\\"}], \\\",\\\", \\\"Integer\\\"}], \
\\\"]\\\"}]\\) is not a valid LibraryFunction.\"",2,40,7,33334520655740433935,
   "Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.7371403900427723`*^9},ExpressionUUID->"7fae91cb-40e4-4f4e-8efc-\
979d4a06457c"],

Cell[BoxData[
 TemplateBox[{
  "LibraryFunction","nofun",
   "\"The function \\!\\(\\*RowBox[{\\\"LibraryFunction\\\", \\\"[\\\", \
RowBox[{\\\"\\\\\\\"/Users/ckorikov/Library/Mathematica/SystemFiles/\
LibraryResources/MacOSX-x86-64/hello.dylib\\\\\\\"\\\", \\\",\\\", \\\"\\\\\\\
\"reset\\\\\\\"\\\", \\\",\\\", RowBox[{\\\"{\\\", \\\"}\\\"}], \\\",\\\", \\\
\"Integer\\\"}], \\\"]\\\"}]\\) is not a valid LibraryFunction.\"",2,41,8,
   33334520655740433935,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{
  3.737140390069326*^9},ExpressionUUID->"16b64314-a6fa-4184-8978-\
a3c1a1a10873"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"filename", "=", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"StringJoin", "[", 
       RowBox[{
        RowBox[{"NotebookDirectory", "[", "]"}], ",", "#"}], "]"}], "&"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{
      "\"\<test.cpp\>\"", ",", "\"\<Vscr1_top_tb_axi.cpp\>\"", ",", 
       "\"\<Vscr1_top_tb_axi__ALLsup.cpp\>\"", ",", " ", 
       "\"\<scr1_wrapper.cpp\>\""}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fielnameFull", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"filename", ",", 
     RowBox[{"{", 
      RowBox[{
      "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include/\
verilated.cpp\>\"", ",", "\n", 
       "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include/\
verilated_cov.cpp\>\"", ",", "\n", 
       "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include/\
verilated_save.cpp\>\"", ",", "\n", 
       "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include/\
verilated_vcd_c.cpp\>\"", ",", "\n", 
       "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include/\
verilated_vpi.cpp\>\""}], "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"libhello", "=", 
   RowBox[{"CreateLibrary", "[", "\[IndentingNewLine]", 
    RowBox[{
    "fielnameFull", ",", "\[IndentingNewLine]", "\"\<hello\>\"", ",", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"\"\<Debug\>\"", "\[Rule]", "True"}], ","}], "*)"}], 
     "\[IndentingNewLine]", " ", 
     RowBox[{"Language", "\[Rule]", "\"\<C++\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<IncludeDirectories\>\"", "\[Rule]", 
      RowBox[{
      "{", "\"\</usr/local/Cellar/verilator/3.922/share/verilator/include\>\"\
", "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.737123017444735*^9, 3.737123026805512*^9}, {
   3.737123137743959*^9, 3.737123137901661*^9}, {3.7371238485519943`*^9, 
   3.737123860724781*^9}, {3.7371239114730453`*^9, 3.7371239325871696`*^9}, {
   3.7371241628038588`*^9, 3.737124204144238*^9}, {3.737124239854062*^9, 
   3.737124243563003*^9}, {3.7371242773274183`*^9, 3.737124316092111*^9}, {
   3.737124349021389*^9, 3.737124395739109*^9}, {3.737124439715557*^9, 
   3.7371244398538647`*^9}, 3.737124757469722*^9, {3.737124980199623*^9, 
   3.7371249836388483`*^9}, {3.737135047496443*^9, 3.737135091943149*^9}, {
   3.7371353250939837`*^9, 3.7371353633598022`*^9}, {3.737135424846663*^9, 
   3.7371354279669228`*^9}, {3.737136034241468*^9, 3.737136045475038*^9}, {
   3.7371360883321466`*^9, 3.7371361143295593`*^9}, {3.7371361472524357`*^9, 
   3.737136181221505*^9}, 3.7371364664155293`*^9, {3.7371365004535933`*^9, 
   3.7371365013793373`*^9}, {3.737136874018352*^9, 3.7371368782099123`*^9}, {
   3.73713703803307*^9, 3.737137040227995*^9}, {3.7371371853645573`*^9, 
   3.73713720765734*^9}, {3.737138423076817*^9, 3.737138433111656*^9}, 
   3.737138752257587*^9, 
   3.737139115294585*^9},ExpressionUUID->"9948679e-de18-40c1-a196-\
bd7e0c3eb4e9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"reset", "=", 
   RowBox[{"LibraryFunctionLoad", "[", 
    RowBox[{"libhello", ",", " ", "\"\<reset\>\"", ",", 
     RowBox[{"{", "}"}], ",", "Integer"}], "]"}]}], ";"}]], "Input",Expression\
UUID->"d3ff1c6e-e9b3-4b52-8368-82aac158a476"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"hello", "=", 
   RowBox[{"LibraryFunctionLoad", "[", 
    RowBox[{"libhello", ",", " ", "\"\<hello\>\"", ",", 
     RowBox[{"{", 
      RowBox[{"Integer", ",", "Integer"}], "}"}], ",", "Integer"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"hello", "[", 
  RowBox[{"5", ",", "1"}], "]"}]}], "Input",
 CellChangeTimes->{{3.737124391007597*^9, 3.737124399230979*^9}, 
   3.737124987994472*^9, {3.737139081346427*^9, 3.73713908654958*^9}, {
   3.737139147747514*^9, 3.737139152691321*^9}, {3.737140411963934*^9, 
   3.7371404295179033`*^9}},ExpressionUUID->"aa9c0855-581c-4f5f-9056-\
7cfa6dd31fce"],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{
  3.7371244492811327`*^9, 3.737124760650898*^9, 3.737124989760289*^9, 
   3.73713076330753*^9, 3.7371310118255157`*^9, 3.7371310982122507`*^9, 
   3.737131254823482*^9, {3.737131321662888*^9, 3.7371313335470543`*^9}, {
   3.737134777057536*^9, 3.737134784806798*^9}, 3.737134921590942*^9, {
   3.7371354323908043`*^9, 3.7371354346572866`*^9}, {3.737137226583387*^9, 
   3.7371372288756104`*^9}, {3.7371374130337343`*^9, 3.737137416490337*^9}, {
   3.737138638602202*^9, 3.73713867161442*^9}, 3.737138763328208*^9, 
   3.737138922777759*^9, 3.737138985308525*^9, {3.737139087257503*^9, 
   3.737139104499754*^9}, {3.7371391386167803`*^9, 3.737139148377688*^9}, 
   3.737139243529813*^9, 3.737139343265168*^9, 3.737139629717607*^9, 
   3.7371397664245663`*^9, 3.737139879443762*^9, 3.7371401597698727`*^9, 
   3.737140252457258*^9, 
   3.737140430624465*^9},ExpressionUUID->"c358fd16-8b27-4dcc-b1d3-\
db0e77322c0e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"reset", "[", "]"}]], "Input",
 CellChangeTimes->{{3.73713924671242*^9, 
  3.737139246832068*^9}},ExpressionUUID->"1293fdb6-889b-4181-be46-\
bb01de9285fd"],

Cell[BoxData["0"], "Output",
 CellChangeTimes->{3.737139247698988*^9, 3.737139301389254*^9, 
  3.7371398805027647`*^9, 3.7371401613671713`*^9, 
  3.737140253687648*^9},ExpressionUUID->"b2d8ec7b-b8b6-4ace-bca0-\
b2c75d0d20f7"]
}, Open  ]]
},
WindowSize->{808, 795},
WindowMargins->{{195, Automatic}, {Automatic, 42}},
FrontEndVersion->"11.2 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 225, 5, 30, "Input",ExpressionUUID->"a6645103-50d4-4adb-a66a-8a4350abb6eb"],
Cell[CellGroupData[{
Cell[808, 29, 779, 15, 73, "Input",ExpressionUUID->"a90a1e7d-676f-4844-979b-55cc70034026"],
Cell[1590, 46, 670, 13, 59, "Message",ExpressionUUID->"7fae91cb-40e4-4f4e-8efc-979d4a06457c"],
Cell[2263, 61, 611, 12, 59, "Message",ExpressionUUID->"16b64314-a6fa-4184-8978-a3c1a1a10873"]
}, Open  ]],
Cell[2889, 76, 3074, 65, 367, "Input",ExpressionUUID->"9948679e-de18-40c1-a196-bd7e0c3eb4e9"],
Cell[5966, 143, 271, 6, 30, "Input",ExpressionUUID->"d3ff1c6e-e9b3-4b52-8368-82aac158a476"],
Cell[CellGroupData[{
Cell[6262, 153, 641, 14, 52, "Input",ExpressionUUID->"aa9c0855-581c-4f5f-9056-7cfa6dd31fce"],
Cell[6906, 169, 962, 15, 45, "Output",ExpressionUUID->"c358fd16-8b27-4dcc-b1d3-db0e77322c0e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7905, 189, 178, 4, 30, "Input",ExpressionUUID->"1293fdb6-889b-4181-be46-bb01de9285fd"],
Cell[8086, 195, 225, 4, 45, "Output",ExpressionUUID->"b2d8ec7b-b8b6-4ace-bca0-b2c75d0d20f7"]
}, Open  ]]
}
]
*)

